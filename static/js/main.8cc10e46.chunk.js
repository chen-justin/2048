(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(2),n=a(4),l=a(3),i=a(5),o=a(0),c=a.n(o),h=a(7),u=a.n(h);a(14);function m(e){var t;return e.value<0?c.a.createElement("div",{className:"tile"},null):(t="tile tile-"+e.value.toString(),c.a.createElement("div",{className:t},e.value))}var f=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"renderTile",value:function(e){return c.a.createElement(m,{value:this.props.tiles[e]})}},{key:"render",value:function(){return c.a.createElement("div",{className:"game-board"},c.a.createElement("div",{className:"board-row"},this.renderTile(0),this.renderTile(1),this.renderTile(2),this.renderTile(3)),c.a.createElement("div",{className:"board-row"},this.renderTile(4),this.renderTile(5),this.renderTile(6),this.renderTile(7)),c.a.createElement("div",{className:"board-row"},this.renderTile(8),this.renderTile(9),this.renderTile(10),this.renderTile(11)),c.a.createElement("div",{className:"board-row"},this.renderTile(12),this.renderTile(13),this.renderTile(14),this.renderTile(15)))}}]),t}(c.a.Component),d=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(n.a)(this,Object(l.a)(t).call(this,e))).handleKeyPress=function(e){38===(e=e||window.event).keyCode?a.shift(1):40===e.keyCode?a.shift(2):37===e.keyCode?a.shift(0):39===e.keyCode&&a.shift(3)},a.state={history:[{tiles:Array(16).fill(-1)}],score:0,best_score:0,stepNumber:0};for(var s=[];s.length<2;){var i=Math.floor(4*Math.random()*4);s.indexOf(i)>-1||(s[s.length]=i)}return a.state.history[0].tiles[s[0]]=2,a.state.history[0].tiles[s[1]]=2,a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"shift",value:function(e){if(this.move_possible){var t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1].tiles.slice(),r=!1;if(0===e)for(var s=0;s<4;s++){for(var n=4*s,l=n+1;l<4*(s+1);)a[l]>0&&a[l]===a[n]?(this.setState({score:this.state.score+a[l]}),a[n]=2*a[n],a[l]=-1,n=l,r=!0):a[l]>0&&(n=l),l++;for(var i=4*s;i<4*(s+1)&&a[i]>0;)i++;for(l=i;l<4*(s+1);)a[l]>0&&(a[i]=a[l],a[l]=-1,i++,r=!0),l++}else if(1===e)for(var o=0;o<4;o++){for(var c=o,h=c+4;h<a.length;)a[h]>0&&a[h]===a[c]?(this.setState({score:this.state.score+a[h]}),a[c]=2*a[c],a[h]=-1,c=h,r=!0):a[h]>0&&(c=h),h+=4;for(var u=o;u<a.length&&a[u]>0;)u+=4;for(h=u;h<a.length;)a[h]>0&&(a[u]=a[h],a[h]=-1,u+=4,r=!0),h+=4}else if(2===e)for(var m=0;m<4;m++){for(var f=a.length-m-1,d=f-4;d>=0;)a[d]>0&&a[d]===a[f]?(this.setState({score:this.state.score+a[d]}),a[f]=2*a[f],a[d]=-1,f=d,r=!0):a[d]>0&&(f=d),d-=4;for(var v=a.length-m-1;v>=0&&a[v]>0;)v-=4;for(d=v;d>=0;)a[d]>0&&(a[v]=a[d],a[d]=-1,v-=4,r=!0),d-=4}else if(3===e)for(var E=0;E<4;E++){for(var b=4*(E+1)-1,p=b-1;p>4*E-1;)a[p]>0&&a[p]===a[b]?(this.setState({score:this.state.score+a[p]}),a[b]=2*a[b],a[p]=-1,b=p,r=!0):a[p]>0&&(b=p),p--;for(var g=4*(E+1)-1;g>=4*E&&a[g]>0;)g--;for(p=g;p>=4*E;)a[p]>0&&(a[g]=a[p],a[p]=-1,g--,r=!0),p--}for(var y=[],N=0;N<a.length;N++)a[N]<0&&y.push(N);if(r||0!==y.length||this.setState({best_score:Math.max(this.state.score,this.state.best_score),score:0}),r){if(y)a[y[Math.floor(Math.random()*y.length)]]=2;this.setState({history:t.concat([{tiles:a}]),stepNumber:t.length})}}}},{key:"move_possible",value:function(e,t,a){for(var r=!1,s=0;s<t;s++)for(var n=s*t,l=0;l<a;l++){var i=n+l,o=i-a>0?i-a:null,c=i+a<e.length?i+a:null;r=r||null!==o||null!==c||null!==(l-1>0?i-1:null)||null!==(l+1<a?i+1:null)}return console.log(r),r}},{key:"render",value:function(){var e=this,t=this.state.score,a=this.state.best_score,r=this.state.history[this.state.stepNumber];return document.onkeydown=this.handleKeyPress,c.a.createElement("div",{className:"game",onKeyPress:this.handleKeyPress},c.a.createElement("div",{className:"game-header"},c.a.createElement("div",{className:"header"},c.a.createElement("p",{className:"title"},"2048"),c.a.createElement("p",{clasName:"subtitle"},"A take on 2048 in React.")),c.a.createElement("div",{className:"game-info"},c.a.createElement("div",null,c.a.createElement("p",null,"Score"),c.a.createElement("p",null,c.a.createElement("strong",null,t))),c.a.createElement("div",null,c.a.createElement("p",null,"Best"),c.a.createElement("p",null,c.a.createElement("strong",null,a))),c.a.createElement("div",null,c.a.createElement("p",null,"Moves"),c.a.createElement("p",null,c.a.createElement("strong",null,this.state.stepNumber))))),c.a.createElement(f,{tiles:r.tiles}),c.a.createElement("div",{className:"controls"},c.a.createElement("button",{className:"control",onClick:function(){return e.shift(0)}},c.a.createElement("i",{class:"fas fa-arrow-left"})),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(1)}},c.a.createElement("i",{class:"fas fa-arrow-up"})),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(2)}},c.a.createElement("i",{class:"fas fa-arrow-down"})),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(3)}},c.a.createElement("i",{class:"fas fa-arrow-right"}))))}}]),t}(c.a.Component);u.a.render(c.a.createElement(d,null),document.getElementById("root"))}},[[8,2,1]]]);
//# sourceMappingURL=main.8cc10e46.chunk.js.map