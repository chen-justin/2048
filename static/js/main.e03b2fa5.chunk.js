(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){},8:function(e,t,r){e.exports=r(9)},9:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r(2),n=r(4),i=r(3),l=r(5),o=r(0),c=r.n(o),h=r(7),u=r.n(h);r(14);function f(e){var t;return e.value<0?c.a.createElement("div",{className:"tile"},null):(t="tile tile-"+e.value.toString(),c.a.createElement("div",{className:t},e.value))}var d=function(e){function t(){return Object(s.a)(this,t),Object(n.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"renderTile",value:function(e){return c.a.createElement(f,{value:this.props.tiles[e]})}},{key:"render",value:function(){return c.a.createElement("div",{className:"game-board"},c.a.createElement("div",{className:"board-row"},this.renderTile(0),this.renderTile(1),this.renderTile(2),this.renderTile(3)),c.a.createElement("div",{className:"board-row"},this.renderTile(4),this.renderTile(5),this.renderTile(6),this.renderTile(7)),c.a.createElement("div",{className:"board-row"},this.renderTile(8),this.renderTile(9),this.renderTile(10),this.renderTile(11)),c.a.createElement("div",{className:"board-row"},this.renderTile(12),this.renderTile(13),this.renderTile(14),this.renderTile(15)))}}]),t}(c.a.Component),m=function(e){function t(e){var r;Object(s.a)(this,t),(r=Object(n.a)(this,Object(i.a)(t).call(this,e))).handleKeyPress=function(e){38===(e=e||window.event).keyCode?r.shift(1):40===e.keyCode?r.shift(2):37===e.keyCode?r.shift(0):39===e.keyCode&&r.shift(3)},r.state={history:[{tiles:Array(16).fill(-1)}],score:0,best_score:0,stepNumber:0};for(var a=[];a.length<2;){var l=Math.floor(4*Math.random()*4);a.indexOf(l)>-1||(a[a.length]=l)}return r.state.history[0].tiles[a[0]]=2,r.state.history[0].tiles[a[1]]=2,r}return Object(l.a)(t,e),Object(a.a)(t,[{key:"shift",value:function(e){if(this.move_possible){var t=this.state.history.slice(0,this.state.stepNumber+1),r=t[t.length-1].tiles.slice(),s=!1;if(0===e)for(var a=0;a<4;a++){for(var n=4*a,i=n+1;i<4*(a+1);)r[i]>0&&r[i]===r[n]?(this.setState({score:this.state.score+r[i]}),r[n]=2*r[n],r[i]=-1,n=i,s=!0):r[i]>0&&(n=i),i++;for(var l=4*a;l<4*(a+1)&&r[l]>0;)l++;for(i=l;i<4*(a+1);)r[i]>0&&(r[l]=r[i],r[i]=-1,l++,s=!0),i++}else if(1===e)for(var o=0;o<4;o++){for(var c=o,h=c+4;h<r.length;)r[h]>0&&r[h]===r[c]?(this.setState({score:this.state.score+r[h]}),r[c]=2*r[c],r[h]=-1,c=h,s=!0):r[h]>0&&(c=h),h+=4;for(var u=o;u<r.length&&r[u]>0;)u+=4;for(h=u;h<r.length;)r[h]>0&&(r[u]=r[h],r[h]=-1,u+=4,s=!0),h+=4}else if(2===e)for(var f=0;f<4;f++){for(var d=r.length-f-1,m=d-4;m>=0;)r[m]>0&&r[m]===r[d]?(this.setState({score:this.state.score+r[m]}),r[d]=2*r[d],r[m]=-1,d=m,s=!0):r[m]>0&&(d=m),m-=4;for(var v=r.length-f-1;v>=0&&r[v]>0;)v-=4;for(m=v;m>=0;)r[m]>0&&(r[v]=r[m],r[m]=-1,v-=4,s=!0),m-=4}else if(3===e)for(var b=0;b<4;b++){for(var y=4*(b+1)-1,E=y-1;E>4*b-1;)r[E]>0&&r[E]===r[y]?(this.setState({score:this.state.score+r[E]}),r[y]=2*r[y],r[E]=-1,y=E,s=!0):r[E]>0&&(y=E),E--;for(var p=4*(b+1)-1;p>=4*b&&r[p]>0;)p--;for(E=p;E>=4*b;)r[E]>0&&(r[p]=r[E],r[E]=-1,p--,s=!0),E--}for(var g=[],N=0;N<r.length;N++)r[N]<0&&g.push(N);if(s||0!==g.length||this.setState({best_score:Math.max(this.state.score,this.state.best_score),score:0}),s){if(g)r[g[Math.floor(Math.random()*g.length)]]=2;this.setState({history:t.concat([{tiles:r}]),stepNumber:t.length})}}}},{key:"move_possible",value:function(e,t,r){for(var s=!1,a=0;a<t;a++)for(var n=a*t,i=0;i<r;i++){var l=n+i,o=l-r>0?l-r:null,c=l+r<e.length?l+r:null;s=s||null!==o||null!==c||null!==(i-1>0?l-1:null)||null!==(i+1<r?l+1:null)}return console.log(s),s}},{key:"render",value:function(){var e=this,t=this.state.score,r=this.state.best_score,s=this.state.history[this.state.stepNumber];return document.onkeydown=this.handleKeyPress,c.a.createElement("div",{className:"game",onKeyPress:this.handleKeyPress},c.a.createElement("div",{className:"game-info"},c.a.createElement("div",null,"2048 Clone"),c.a.createElement("div",null,"Score: ",t),c.a.createElement("div",null,"Best: ",r),c.a.createElement("div",null,"Current Moves: ",this.state.stepNumber)),c.a.createElement(d,{tiles:s.tiles}),c.a.createElement("div",{className:"controls"},c.a.createElement("button",{className:"control",onClick:function(){return e.shift(0)}},"Left"),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(1)}},"Up"),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(2)}},"Down"),c.a.createElement("button",{className:"control",onClick:function(){return e.shift(3)}},"Right")))}}]),t}(c.a.Component);u.a.render(c.a.createElement(m,null),document.getElementById("root"))}},[[8,2,1]]]);
//# sourceMappingURL=main.e03b2fa5.chunk.js.map